\documentclass[11pt]{article}

\setlength\topmargin{-0.6cm}   
\setlength\textheight{23.4cm}
\setlength\textwidth{17.0cm}
\setlength\oddsidemargin{0cm} 
 

\begin{document}

\begin{center}
\LARGE
LING 572 HW5 (MaxEnt decoder)\\
Due: 11pm on Feb 13, 2020\\
\vspace{0.3in}
\end{center}


The example files are under /dropbox/19-20/572/hw5/examples/.

\vspace{0.3 in}
\noindent
{\bf Q1 (5 points):} Run the Mallet MaxEnt learner (i.e., the trainer's name
is MaxEnt) with {\bf train2.vectors.txt} as the training data 
and {\bf test2.vectors.txt} as the test data. 
\begin{itemize}
  \item You can use {\it vectors2classify} or 
        ``{\it mallet train-classifier}'' plus 
        ``{\it mallet classify-svmlight}''.

  \item Save the model to a file called {\it q1/m1}.

  \item Convert the model into the text format with the following command:
         classifier2info {-}{-}classifier q1/m1 $>$ q1/m1.txt

  \item In your note file, write down the command you used, 
        the training accuracy and the test accuracy.
\end{itemize}



%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{0.3 in}
\noindent
{\bf Q2 (25 points):} Write a MaxEnt classifier, 
  called {\bf maxent\_classify.sh},
  that classifies test data given a MaxEnt model learned from 
  training data.
\begin{itemize}
  \item The format is: 
          maxent\_classify.sh test\_data model\_file sys\_output $>$ acc\_file 

  \item test\_data, sys\_output, and acc\_file have the same format as in 
    Hw2-Hw4, except that sys\_output and acc\_file contain only the
    results for the TEST data, not the training data (since the training
    data is not available to the classifier).

  \item model\_file has the same format as q1/m1.txt created in Q1.

  \item Run ``maxent\_classify.sh test2.vectors.txt q1/m1.txt
          q2/res $>$ q2/acc''.
          What is the test accuracy? Is it the same as the test accuracy in 
          Q1? 
\end{itemize}




%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{0.4 in}

\noindent
{\bf Q3 (15 points):} Write a script, calc\_emp\_exp.sh,
   to calculate empiricial expectation.

\begin{itemize}
  \item The format is: 
                calc\_emp\_exp.sh training\_data output\_file

 \item training\_data has the same format as before.

 \item output\_file has the format ``class\_label feat\_name expectation raw\_count'' (c.f. emp\_count\_ex): {\it raw\_count} is the number of training instances with that class\_label and contains that feat\_name; {\it expectation} is the empirical expectation.
  
 \item Run ``calc\_emp\_exp.sh train2.vectors.txt 
             q3/emp\_count'' and include q3/emp\_count in your submission.
\end{itemize}


%%%%%%%%%%%%%%%%%%%%
\vspace{0.4 in}

\noindent
{\bf Q4 (30 points):} Write a script, calc\_model\_exp.sh, to 
  calculate model expectation.

\begin{itemize}
  \item The format is: 
                calc\_model\_exp.sh training\_data output\_file \{model\_file\}

 \item training\_data has the same format as before. 
 
 \item output\_file has the format ``class\_label feat\_name expectation count'' (e.g., {\bf emp\_count\_ex}):  {\it expectation} is the model expectation; {\it count} is {\it expectation} multiplied by the number of training instances. Note that the {\it count} is often a real number, not an integer, so output it as a real number.


 \item model\_file is optional. If it is given, it has the same format as in Q2
       (e.g., q1/m1.txt) 
       and it is used to calculate $p(y|x_i)$. If it is not given,
       $p(y|x_i) = 1/|C|$, where $|C|$ is the number of class labels.

 \item Run ``calc\_model\_exp.sh train2.vectors.txt q4/model\_count
        q1/m1.txt'' and include q4/model\_count in your submission.
       
 \item Run ``calc\_model\_exp.sh train2.vectors.txt q4/model\_count2''
       and include q4/model\_count2 in your submission.
  
\end{itemize}


%%%%%%%%%%%%%%%%%%%%
\vspace{0.2 in}
\noindent

{\bf Submission:}  Submit the following to Canvas:
\begin{itemize}
  \item Your note file {\it readme.(txt $\mid$ pdf)}
        that includes your answers to Q1 and Q2 and any notes that you want the TA to read.
      

  \item  hw5.tar.gz that includes all the files specified in
      dropbox/19-20/572/hw5/submit-file-list, plus any source code
      (and binary code) used by the shell scripts.

  \item Make sure that you run {\bf check\_hw5.sh} before
    submitting your hw.tar.gz.

\end{itemize}

\end{document}
    
        
    

         

\end{document}



